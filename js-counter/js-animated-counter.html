<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Counter Animation</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="box">
    
      <svg
        width="150"
        height="150"
        viewBox="0 0 150 150"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="clock">
          <circle
            id="Ellipse 1"
            cx="75"
            cy="75"
            r="72.5"
            stroke="white"
            stroke-width="5"
          />
          <circle id="Ellipse 2" cx="75" cy="75" r="9" fill="white" />
          <g id="big-hand">
            <path
              id="Rectangle 1"
              d="M72 17C72 15.3431 73.3431 14 75 14V14C76.6569 14 78 15.3431 78 17V72C78 73.6569 76.6569 75 75 75V75C73.3431 75 72 73.6569 72 72V17Z"
              fill="white"
            />
          </g>
          <g id="short-hand">
            <rect
              id="Rectangle 2"
              x="78"
              y="124"
              width="6"
              height="49"
              rx="3"
              transform="rotate(-180 78 124)"
              fill="white"
            />
          </g>
        </g>
      </svg>

      <div class="counter">
        <div class="h3-wrapper">
          <h3 data-target="787" class="count" id="speed-take">0</h3>
          <h3>+</h3>
        </div>
        <h6>Clock Hours</h6>
      </div>
    </div>
  </body>

  <script>

    // take the count class
    const counters = document.querySelectorAll(".count");

    // loop through the .count class and get all the values set in the data-target
    counters.forEach((counter) => {
      const updateCount = () => {

        // parses a value as a string and returns the first integer.
        const target = parseInt(+counter.getAttribute("data-target"));
        const count = parseInt(+counter.innerText);

        // remove the decimal (does not round the number)
        const increment = Math.trunc(target / target);

        console.log(increment);

        if (count < target) {
          counter.innerText = count + increment;

          // 1 is set as the time-out duration and if need more time to count increment the value of 1
          setTimeout(updateCount, 1);
        } else {
          count.innerText = target;
        }
      };
      updateCount();
    });
  </script>
</html>
